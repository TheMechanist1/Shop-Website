<!DOCTYPE html>
<html>
<head>
  <%- include('partials/head') %>
  <style>
    .panel-container {
      display: flex;
      flex-wrap: nowrap;
    }
    .panel-container.horizontal {
      flex-direction: row;
    }
    .panel-container.vertical {
      height: 100%;
      flex-direction: column;
    }
    .panel {
      flex-grow: 0;
      flex-basis: auto;
    }
    .panel.fill {
      flex-grow: 1;
    }
  </style>
</head>
<body>

  <style>
    #item-list {
      margin: 0;
      padding: 4px;
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    .item {
      position: relative;
      display: block;
      margin: 2px;
      padding: 0;
      width: 150px;
    }
    .item-link {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 100%;
      color: inherit;
      text-decoration: none;
    }
    .item-link:hover::before, .item-link:active::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background: currentColor;
      opacity: 0.1;
    }
    .item-link:active::before {
      opacity: 0.2;
    }
    .item-name {
      font-weight: bold;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    #info-panel {
      flex-basis: 300px;
      flex-shrink: 0;
      border-left: 1px solid black;
    }
    .item-img {

    }
    .item-info {

    }
  </style>

  <main class="panel-container vertical">
    <div class="panel">
      <%- include('partials/nav') %>
    </div>
    <div class="panel fill panel-container horizontal">
      <div id="item-panel" class="panel fill item-panel">
        <ul id="item-list">
          <% items.forEach(item => { %>
            <li class="item">
              <a class="item-link" href="/items/<%= item.id %>">
                <% if (item.images.length) { %>
                  <div class="item-img">
                    <img src="/uploads/<%= item.images[0] %>" alt="<%= item.name %>" title="<%= item.name %>" width="100%" height="100%">
                  </div>
                <% } %>
                <div class="item-info">
                  <div class="item-name">
                    <%= item.name %>
                  </div>
                  <div>
                    Amount: <%= item.amount %>
                  </div>
                </div>
              </a>
            </li>
          <% }) %>
        </ul>
      </div>

      <div id="info-panel" class="panel">
        
      </div>
    </div>
  </main>

</body>
</html>
